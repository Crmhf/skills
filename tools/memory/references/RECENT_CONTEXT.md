# 最近上下文使用指南

如何有效使用 SESSION-STATE.md 管理当前任务上下文。

---

## 什么是最近上下文

最近上下文（SESSION-STATE.md）是 Agent 的"工作内存"，存储：
- 当前活跃的任务
- 待处理的问题
- 最近的重要决策
- 临时需要记住的信息

---

## 使用场景

### 场景1：多轮对话保持上下文

```
用户: 帮我设计一个电商系统
Agent: [记录到 SESSION-STATE.md]
       当前任务: 设计电商系统
       已收集: 需求概述、预估规模
       待确认: 技术栈偏好

用户: 我想用微服务架构
Agent: [更新 SESSION-STATE.md]
       架构风格: 微服务
       待设计: 服务划分
```

### 场景2：任务中断和恢复

```
[会话A] 开始设计数据库架构
       ↓ 用户离开
[会话B] Agent 读取 SESSION-STATE.md
       恢复: "继续数据库架构设计..."
```

---

## 写入时机

| 时机 | 写入内容 |
|-----|---------|
| 对话开始 | 读取现有上下文 |
| 关键信息 | 用户偏好、约束条件 |
| 决策点 | 已做出的决定 |
| 待办项 | 需要后续处理的事项 |
| 对话结束 | 总结已完成的工作 |

---

## 格式规范

```markdown
# Session State

## 当前任务
- [ ] 设计电商系统架构

## 已确认信息
- 规模: 日活 100万
- 架构: 微服务
- 技术栈: Java + Spring Cloud

## 待决策
- [ ] 数据库选型
- [ ] 缓存策略

## 临时数据
- 用户偏好: 优先稳定性
```
